# Generated by Django 6.0 on 2025-12-23 08:52

import django.core.validators
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="Patient",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "age",
                    models.IntegerField(
                        help_text="Age in years",
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(120),
                        ],
                    ),
                ),
                (
                    "sex",
                    models.IntegerField(
                        choices=[(1, "Male"), (0, "Female")],
                        help_text="Patient's gender",
                    ),
                ),
                (
                    "chest_pain_type",
                    models.IntegerField(
                        choices=[
                            (1, "Typical Angina"),
                            (2, "Atypical Angina"),
                            (3, "Non-anginal Pain"),
                            (4, "Asymptomatic"),
                        ],
                        verbose_name="Chest Pain Type (cp)",
                    ),
                ),
                (
                    "resting_bp",
                    models.IntegerField(
                        help_text="in mm Hg",
                        validators=[
                            django.core.validators.MinValueValidator(50),
                            django.core.validators.MaxValueValidator(250),
                        ],
                        verbose_name="Resting Blood Pressure (trestbps)",
                    ),
                ),
                (
                    "cholesterol",
                    models.IntegerField(
                        help_text="in mg/dl",
                        validators=[
                            django.core.validators.MinValueValidator(100),
                            django.core.validators.MaxValueValidator(600),
                        ],
                        verbose_name="Serum Cholesterol (chol)",
                    ),
                ),
                (
                    "fasting_bs",
                    models.IntegerField(
                        choices=[(0, "False (< 120 mg/dl)"), (1, "True (> 120 mg/dl)")],
                        verbose_name="Fasting Blood Sugar (fbs)",
                    ),
                ),
                (
                    "resting_ecg",
                    models.IntegerField(
                        choices=[
                            (0, "Normal"),
                            (1, "ST-T Wave Abnormality"),
                            (2, "Left Ventricular Hypertrophy"),
                        ],
                        verbose_name="Resting ECG Results (restecg)",
                    ),
                ),
                (
                    "max_heart_rate",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(60),
                            django.core.validators.MaxValueValidator(220),
                        ],
                        verbose_name="Max Heart Rate (thalach)",
                    ),
                ),
                (
                    "exercise_angina",
                    models.IntegerField(
                        choices=[(0, "No"), (1, "Yes")],
                        verbose_name="Exercise Induced Angina (exang)",
                    ),
                ),
                (
                    "oldpeak",
                    models.FloatField(
                        help_text="ST depression induced by exercise relative to rest",
                        validators=[
                            django.core.validators.MinValueValidator(0.0),
                            django.core.validators.MaxValueValidator(10.0),
                        ],
                    ),
                ),
                (
                    "st_slope",
                    models.IntegerField(
                        choices=[(1, "Upsloping"), (2, "Flat"), (3, "Downsloping")],
                        verbose_name="ST Slope (slope)",
                    ),
                ),
                (
                    "ca",
                    models.IntegerField(
                        help_text="0-3 colored by flourosopy",
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(4),
                        ],
                        verbose_name="Number of Major Vessels (ca)",
                    ),
                ),
                (
                    "thal",
                    models.IntegerField(
                        choices=[
                            (3, "Normal"),
                            (6, "Fixed Defect"),
                            (7, "Reversable Defect"),
                        ],
                        verbose_name="Thalassemia (thal)",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name="Prediction",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "prediction_result",
                    models.IntegerField(
                        choices=[(0, "No Disease"), (1, "Heart Disease")],
                        verbose_name="Prediction",
                    ),
                ),
                (
                    "probability",
                    models.FloatField(help_text="Probability of heart disease (0-1)"),
                ),
                ("model_version", models.CharField(default="v1.0", max_length=50)),
                ("predicted_at", models.DateTimeField(auto_now_add=True)),
                (
                    "patient",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="predictions",
                        to="predictions.patient",
                    ),
                ),
            ],
        ),
    ]
